<div class="event-stack-container">
  <div class="stack">
    @for (event of events; track event.eventId; let i = $index) {
      <div
        class="stack-item"
        [class.dismissed]="i < currentIndex()"
        [class.active]="i === currentIndex()"
        [style.--index]="i"
        (click)="i !== currentIndex() ? select(i) : null"
      >
        <app-event-card [event]="event"></app-event-card>
      </div>
    }
  </div>

  <div class="controls">
    <button
      mat-icon-button
      [disabled]="currentIndex() === 0"
      (click)="prev()"
    >
      <mat-icon>chevron_left</mat-icon>
    </button>
    <span class="counter">{{ currentIndex() + 1 }} / {{ events.length }}</span>
    <button
      mat-icon-button
      [disabled]="currentIndex() === events.length - 1"
      (click)="next()"
    >
      <mat-icon>chevron_right</mat-icon>
    </button>
  </div>
</div>
